<template>
    <div>
        <div class="row-item">
            å·¥å…·åˆ—è¡¨ï¼š
            <span class="btn btn-primary" @click="openUrl(urlList.allStore)" >æ‰“å¼€æ‰€æœ‰è®¢å•å’Œåå°</span>
            <span class="btn btn-primary" @click="openUrl(urlList.dianxiaomi)" >åº—å°ç§˜</span>
            <span class="btn btn-primary" @click="openUrl(urlList.translate)" >ç¿»è¯‘</span>
            <span class="btn btn-primary" @click="openUrl(urlList.remarkImg)" >å¤‡å¿˜å›¾ç‰‡</span>
            <span class="btn btn-primary" @click="openUrl(urlList.trends)" >è¶‹åŠ¿</span>
            <span class="btn btn-primary" @click="openUrl(urlList.title)" >æ ‡é¢˜å…³é”®è¯</span>
            <span class="btn btn-primary" @click="openUrl(urlList.price)" >å®šä»·</span>
            <span class="btn btn-primary" @click="openUrl(urlList.template)" >æ¨¡æ¿å’Œå¤‡å¿˜æœ¬</span><br>
            <input v-model="searchKeyword">
            <span class="btn btn-primary" @click="openUrl(urlList.taobao, searchKeyword, true)" >æ·˜å® | é˜¿é‡Œå·´å·´</span>
        </div>

        <div class="row-item">
            <label for="twcb"><input id="twcb" v-model="twShow" style="margin-left:20px;" type="checkbox" checked> å°æ¹¾</label>
            <label for="mycb"><input id="mycb" v-model="myShow" style="margin-left:20px;" type="checkbox" checked> é©¬æ¥</label>
            <label for="thcb"><input id="thcb" v-model="thShow" style="margin-left:20px;" type="checkbox" checked> æ³°å›½</label>
            <label for="brcb"><input id="brcb" v-model="brShow" style="margin-left:20px;" type="checkbox" checked> å·´è¥¿</label>
        </div>

        <div class="row-item tw-item" v-show="twShow">
            å°æ¹¾ç«™ï¼š
            <div class="images" v-viewer="{movable: false}">
                <img v-for="src in twImages" :src="src" :key="src.id">
            </div>
            <br>
            <span class="btn btn-primary" @click="openUrl( urlList.tw.orderAndChat)" >è®¢å•ï¼ŒèŠå¤©ï¼Œæˆ‘çš„å•†å“</span><br>
            <span class="btn btn-primary" @click="openUrl()" >æ‰¹é‡æ‰“å¼€å·¥å…·</span>ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»<br>
            <span class="btn btn-success" @click="openUrl( urlList.tw.shop)" >åº—é“º</span>
            <span class="btn btn-success" @click="openUrl( urlList.tw.category)" >åˆ†ç±»åˆ—è¡¨</span>
            <span class="btn btn-success" @click="openUrl( urlList.tw.keyword)" >ç«™å†…å…³é”®è¯</span><br>
            <span class="btn btn-primary" @click="openUrl()" >æ‰¹é‡æ‰“å¼€åº—é“ºæ•°æ®</span>ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»<br>
            <span class="btn btn-success" @click="openUrl( urlList.tw.dashboard)" >ä»ªè¡¨ç›˜</span>
            <span class="btn btn-success" @click="openUrl( urlList.tw.performance)" >å•†å“è¡¨ç°</span>
            <span class="btn btn-success" @click="openUrl( urlList.tw.diagnosis)" >å•†å“è¯Šæ–­</span>
            <span class="btn btn-success" @click="openUrl( urlList.tw.ad)" >å¹¿å‘Š</span>
        </div>

        <div class="row-item tw-item" v-show="myShow">
            é©¬æ¥ç«™ï¼š
            <div class="images" v-viewer="{movable: false}">
                <img v-for="src in myImages" :src="src" :key="src.id">
            </div>
            <br>
            <span class="btn btn-primary" @click="openUrl( urlList.my.orderAndChat)" >è®¢å•ï¼ŒèŠå¤©ï¼Œæˆ‘çš„å•†å“</span><br>
            <span class="btn btn-primary" @click="openUrl()" >æ‰¹é‡æ‰“å¼€å·¥å…·</span>ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»<br>
            <span class="btn btn-success" @click="openUrl( urlList.my.shop)" >åº—é“º</span>
            <span class="btn btn-success" @click="openUrl( urlList.my.category)" >åˆ†ç±»åˆ—è¡¨</span>
            <span class="btn btn-success" @click="openUrl( urlList.my.keyword)" >ç«™å†…å…³é”®è¯</span><br>
            <span class="btn btn-primary" @click="openUrl()" >æ‰¹é‡æ‰“å¼€åº—é“ºæ•°æ®</span>ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»<br>
            <span class="btn btn-success" @click="openUrl( urlList.my.dashboard)" >ä»ªè¡¨ç›˜</span>
            <span class="btn btn-success" @click="openUrl( urlList.my.performance)" >å•†å“è¡¨ç°</span>
            <span class="btn btn-success" @click="openUrl( urlList.my.diagnosis)" >å•†å“è¯Šæ–­</span>
            <span class="btn btn-success" @click="openUrl( urlList.my.ad)" >å¹¿å‘Š</span>
        </div>

        <div class="row-item tw-item" v-show="thShow">
            æ³°å›½ç«™ï¼š
            <div class="images" v-viewer="{movable: false}">
                <img v-for="src in thImages" :src="src" :key="src.id">
            </div>
            <br>
            <span class="btn btn-primary" @click="openUrl( urlList.th.orderAndChat)" >è®¢å•ï¼ŒèŠå¤©ï¼Œæˆ‘çš„å•†å“</span><br>
            <span class="btn btn-primary" @click="openUrl()" >æ‰¹é‡æ‰“å¼€å·¥å…·</span>ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»<br>
            <span class="btn btn-success" @click="openUrl( urlList.th.shop)" >åº—é“º</span>
            <span class="btn btn-success" @click="openUrl( urlList.th.category)" >åˆ†ç±»åˆ—è¡¨</span>
            <span class="btn btn-success" @click="openUrl( urlList.th.keyword)" >ç«™å†…å…³é”®è¯</span><br>
            <span class="btn btn-primary" @click="openUrl()" >æ‰¹é‡æ‰“å¼€åº—é“ºæ•°æ®</span>ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»<br>
            <span class="btn btn-success" @click="openUrl( urlList.th.dashboard)" >ä»ªè¡¨ç›˜</span>
            <span class="btn btn-success" @click="openUrl( urlList.th.performance)" >å•†å“è¡¨ç°</span>
            <span class="btn btn-success" @click="openUrl( urlList.th.diagnosis)" >å•†å“è¯Šæ–­</span>
            <span class="btn btn-success" @click="openUrl( urlList.th.ad)" >å¹¿å‘Š</span>
        </div>

        <div class="row-item tw-item" v-show="brShow">
            å·´è¥¿ç«™ï¼š
            <div class="images" v-viewer="{movable: false}">
                <img v-for="src in brImages" :src="src" :key="src.id">
            </div>
            <br>
            <span class="btn btn-primary" @click="openUrl( urlList.br.orderAndChat)" >è®¢å•ï¼ŒèŠå¤©ï¼Œæˆ‘çš„å•†å“</span><br>
            <span class="btn btn-primary" @click="openUrl()" >æ‰¹é‡æ‰“å¼€å·¥å…·</span>ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»<br>
            <span class="btn btn-success" @click="openUrl( urlList.br.shop)" >åº—é“º</span>
            <span class="btn btn-success" @click="openUrl( urlList.br.category)" >åˆ†ç±»åˆ—è¡¨</span>
            <span class="btn btn-success" @click="openUrl( urlList.br.keyword)" >ç«™å†…å…³é”®è¯</span><br>
            <span class="btn btn-primary" @click="openUrl()" >æ‰¹é‡æ‰“å¼€åº—é“ºæ•°æ®</span>ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»<br>
            <span class="btn btn-success" @click="openUrl( urlList.br.dashboard)" >ä»ªè¡¨ç›˜</span>
            <span class="btn btn-success" @click="openUrl( urlList.br.performance)" >å•†å“è¡¨ç°</span>
            <span class="btn btn-success" @click="openUrl( urlList.br.diagnosis)" >å•†å“è¯Šæ–­</span>
            <span class="btn btn-success" @click="openUrl( urlList.br.ad)" >å¹¿å‘Š</span>
        </div>

    </div>
</template>
<script>
import {urlList} from '../common/feiUrl'
import {$URL} from '../common/gbk'
import {tw_c, my_c} from '../common/category'
import $ from 'jquery'

export default {
    data: function(){
        return {
            urlList:urlList,
            searchKeyword:'åŠ¨æ¼«',
            twShow:true,
            myShow:true,
            thShow:true,
            brShow:true,
            twImages:[],
            myImages:[],
            thImages:[],
            brImages:[],
        }
    },

    mounted: function(){
        this.$http.get('v1/basic/image/index?dir=tw', [])
        .then(res => {
            this.twImages = res.data.tw
        })
        this.$http.get('v1/basic/image/index?dir=my', [])
        .then(res => {
            this.myImages = res.data.my
        })
        this.$http.get('v1/basic/image/index?dir=th', [])
        .then(res => {
            this.thImages = res.data.th
        })
        this.$http.get('v1/basic/image/index?dir=br', [])
        .then(res => {
            this.brImages = res.data.br
        })
    },

    methods: {
        openUrl: function(urlList, keyword, isEncode){
            if (typeof(keyword) === 'undefined'){
                keyword = ''
            }

            if (keyword.length > 0 && isEncode == true){
                keyword = $URL.encode(keyword)
            }
            
            for (let item in urlList) {
                window.open(urlList[item].replace('@keyword@', keyword))
            }
        },

        myChangeOne: function(val){
            this.my_c_3 = {}
            this.my_c_2 = my_c[val.target.value]
        },
        myChangeTwo: function(val){
            alert(val.target.value)
            this.my_c_3 = {}
            this.my_c_3 = my_c[val.target.value]
        },

        twChangeOne: function(val){
            console.log(val.target.value)
            this.tw_c_3 = {}
            this.tw_c_4 = {}
            this.tw_c_2 = tw_c[val.target.value]
            
        },
        twChangeTwo: function(val){
            this.tw_c_4 = {}
            this.tw_c_3 = tw_c[val.target.value]
        },
        twChangeThree: function(val){
            console.log(val.target.value)
            this.tw_c_4 = tw_c[val.target.value]
        },

        openKeywords: function(type){
            let url = ''

            switch(type){
                case 1:
                    url = urlList.mUrl
                    break
                case 2:
                    url = urlList.tUrl
                    break
                case 3:
                    url = urlList.mpUrl
                    break
                case 4:
                    url = urlList.tpUrl
                    break
            }

            let val = $('.tbox').val();
            if (val){
                let vlist = $('.tbox').val().split("\n");

                for(let i=0; i<vlist.length; i++){
                    let words = vlist[i].replace(/(^\s*)|(\s*$)/g, "");
                    if (words){
                        let src = url+"?keyword="+words;
                        window.open(src).location;
                    }
                    
                }
            }
        },

        openKeywordAll: function(){
            this.openUrl(urlList.enKeywordUrls, this.enKeyword)
            this.openUrl(urlList.cnKeywordUrls, this.cnKeyword, true)
            this.openUrl(urlList.fantiKeywordUrls, this.fantiKeyword)
        },

        openUPgoods: function(urlList){
            this.openUrl(urlList)

            let tempmy = this.$router.resolve({
                name: "tempmy"
            });
            window.open(tempmy.href, '_blank');

            let temptw = this.$router.resolve({
                name: "temptw"
            });
            window.open(temptw.href, '_blank');
        }
    }
} 
</script>
<style scoped>
.row-item{padding: 20px; margin-bottom: 10px; border-bottom: 1px #ccc solid;}
.row-item .btn{margin: 10px;}
.row-item img{height: 50px; margin: 5px;}
</style>